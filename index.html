<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shrink Image Filesizes with TinyPNG.com • tinieR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Shrink Image Filesizes with TinyPNG.com">
<meta property="og:description" content="Shrink image filesizes with the TinyPNG API &lt;https://tinypng.com&gt;. Works with .png and .jpg/.jpeg files, and can return the new image filepath to enable embedding in other image workflows/functions.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tinieR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jmablog/tinieR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="tinier" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#tinier" class="anchor"></a>tinieR</h1></div>
<!-- badges: start -->

<p>Shrink image filesizes with the <a href="https://tinypng.com">TinyPNG</a> API. Works with .png and .jpg/.jpeg files, and can return the new image filepath to enable embedding in other image workflows/functions.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the latest version of tinieR from <a href="https://github.com">Github</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu">install_github</span>(<span class="st">"jmablog/tinier"</span>)</pre></div>
</div>
<div id="authentication-with-tinypngcom" class="section level2">
<h2 class="hasAnchor">
<a href="#authentication-with-tinypngcom" class="anchor"></a>Authentication with TinyPNG.com</h2>
<p>You will need an API key from <a href="https://tinypng.com">TinyPNG</a>. You can signup to get one <a href="https://tinypng.com/developers">here</a>.</p>
<p>Once you have your API key, you can set it for your current R session with:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tinier</span>)

<span class="fu"><a href="reference/tinify_key.html">tinify_key</a></span>(<span class="st">"YOUR-API-KEY-HERE"</span>)</pre></div>
<p>Or you can provide your API key as an argument to <code><a href="reference/tinify.html">tinify()</a></code> at every call:</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="no">my_key</span> <span class="kw">&lt;-</span> <span class="st">"YOUR-API-KEY-HERE"</span>

<span class="fu"><a href="reference/tinify.html">tinify</a></span>(<span class="st">"example.png"</span>, <span class="kw">key</span> <span class="kw">=</span> <span class="no">my_key</span>)</pre></div>
<p>Providing an API key as an argument to <code><a href="reference/tinify.html">tinify()</a></code> will override any API key set with <code>tinify_api()</code>. This could be useful if utilising multiple API keys.</p>
<p>Be careful including your API key in any scripts you write, especially if you’re going to be publicly or privately sharing those scripts with others! You might consider setting your API key instead in your .Renviron file (~/.Renviron). If you use the variable name <code>TINY_API</code> in .Renviron, <code><a href="reference/tinify.html">tinify()</a></code> should find it, and you can skip using <code>tinify_api()</code> or providing an API at each call of <code><a href="reference/tinify.html">tinify()</a></code>.</p>
<p>To edit your .Renviron in Rstudio:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu">edit_r_environ</span>()</pre></div>
<p>Then save into .Renviron:</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="no">TINY_API</span> <span class="kw">=</span> <span class="st">"YOUR-API-KEY-HERE"</span></pre></div>
</div>
<div id="shrinking-an-image" class="section level2">
<h2 class="hasAnchor">
<a href="#shrinking-an-image" class="anchor"></a>Shrinking An Image</h2>
<p>To shrink an image file’s size, provide a path to the file relative to the current working directory:</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="fu"><a href="reference/tinify.html">tinify</a></span>(<span class="st">"example.png"</span>)</pre></div>
<p>By default, <code>tinify</code> will create a new file with the suffix ’_tiny’ in the same directory as the original file. To instead overwrite the original file with the newly shrunk file, use <code>overwrite = TRUE</code>:</p>
<div class="sourceCode" id="cb7"><pre class="r"><span class="fu"><a href="reference/tinify.html">tinify</a></span>(<span class="st">"example.png"</span>, <span class="kw">overwrite</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></div>
</div>
<div id="using-the-shrunk-image" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-shrunk-image" class="anchor"></a>Using The Shrunk Image</h2>
<p>Tinify can also return the absolute file path to the newly shrunk file, as a string, with <code>return_path = TRUE</code>. This can be passed in to another function that takes an image file path to automate shrinking filesizes when, for example, knitting a document:</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="no">shrunk_img</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/tinify.html">tinify</a></span>(<span class="st">"imgs/example.png"</span>, <span class="kw">return_path</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span>(<span class="no">shrunk_img</span>)</pre></div>
</div>
<div id="tinypng-api-monthly-allowance-and-other-details" class="section level2">
<h2 class="hasAnchor">
<a href="#tinypng-api-monthly-allowance-and-other-details" class="anchor"></a>TinyPNG API Monthly Allowance and Other Details</h2>
<p>TinyPNG is quite generous at 500 free images per month, but if you’re using <code><a href="reference/tinify.html">tinify()</a></code> as part a script that may be run multiple times, you should be aware of your API usage. Fortunately TinyPNG is smart enough to know when you are uploading the same file over again, and so will not count repeat calls of <code><a href="reference/tinify.html">tinify()</a></code> on the <strong>exact same</strong> image file against your monthly API usage limit. This is handy if you are using <code><a href="reference/tinify.html">tinify()</a></code> in an RMarkdown document as it won’t count against your API usage every time you knit your document. However be careful if saving new images to file from other workflows, such as creating plots, as changes to these will most likely count as new files when uploaded to TinyPNG.</p>
<p>You can check your API usage, as well as see how much the file size has changed, with <code>details = TRUE</code>:</p>
<div class="sourceCode" id="cb9"><pre class="r">tinify("example.png", details = TRUE)

&gt; Filesize reduced by 50%:
&gt; example.png (20Kb) =&gt; example_tiny.png (10Kb)
&gt; 10 Tinify API calls this month</pre></div>
</div>
<div id="further-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#further-examples" class="anchor"></a>Further Examples</h2>
<p>You can combine any number of the above arguments:</p>
<div class="sourceCode" id="cb10"><pre class="r"><span class="fu"><a href="reference/tinify.html">tinify</a></span>(<span class="st">"example.png"</span>, <span class="kw">overwrite</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">details</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">return_path</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></div>
<p>Tinify also works nicely with the pipe:</p>
<div class="sourceCode" id="cb11"><pre class="r"><span class="no">img</span> <span class="kw">&lt;-</span> <span class="st">"example.png"</span>

<span class="no">img</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="reference/tinify.html">tinify</a></span>()</pre></div>
<p>And with purrr::map for multiple files:</p>
<div class="sourceCode" id="cb12"><pre class="r"><span class="no">imgs</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"example.png"</span>, <span class="st">"example2.png"</span>)

<span class="kw pkg">purrr</span><span class="kw ns">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span>(<span class="no">imgs</span>, ~<span class="fu"><a href="reference/tinify.html">tinify</a></span>(<span class="no">.x</span>))</pre></div>
<p>Below is an example method for shrinking an entire directory:</p>
<div class="sourceCode" id="cb13"><pre class="r"><span class="no">imgs_dir</span> <span class="kw">&lt;-</span> <span class="kw pkg">fs</span><span class="kw ns">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/dir_ls.html">dir_ls</a></span>(<span class="st">"imgs"</span>, <span class="kw">glob</span> <span class="kw">=</span> <span class="st">"*.png"</span>)

<span class="kw pkg">purrr</span><span class="kw ns">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span>(<span class="no">imgs_dir</span>, ~<span class="fu"><a href="reference/tinify.html">tinify</a></span>(<span class="no">.x</span>, <span class="kw">overwrite</span> <span class="kw">=</span> <span class="fl">TRUE</span>))</pre></div>
</div>
<div id="future-plans" class="section level2">
<h2 class="hasAnchor">
<a href="#future-plans" class="anchor"></a>Future Plans</h2>
<ul>
<li>Include other <a href="https://tinypng.com">TinyPNG</a> API image editing functions, like image resizing and retaining metadata.</li>
<li>Add ability to provide a desired file path for the newly shrunk file, instead of defaulting to the same location as the input file.</li>
<li>Add ability to use URL for a web resource instead of a local file.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/jmablog/tinieR/">https://​github.com/​jmablog/​tinieR/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jmablog/tinieR/issues">https://​github.com/​jmablog/​tinieR/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>James Adams <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jmablog/tinieR/actions"><img src="https://github.com/jmablog/tinieR/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/jmablog/tinieR"><img src="https://codecov.io/gh/jmablog/tinieR/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by James Adams.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
